<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Workflow Request Form</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        label { display: block; margin-top: 10px; font-weight: bold; }
        input[type="text"], input[type="email"], input[type="date"], textarea, select { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; border: 1px solid #ddd; border-radius: 4px; }
        input[type="submit"] { background-color: #4CAF50; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; margin-top: 20px; }
        .readonly-field { background-color: #f0f0f0; color: #555; }
    </style>
</head>
<body>
    <h1>New Workflow Request</h1>
    
    <p>Logged in as: <strong>{{ user_first_name }} {{ user_last_name }}</strong> ({{ user_dept }})</p>

    <form method="POST" action="{{ url_for('workflow_request') }}">
        
        <!-- Pre-populated/Read-only User Data (for context) -->
        <label for="email">Email</label>
        <input type="email" id="email" value="{{ user_email }}" class="readonly-field" readonly>
        
        <!-- Activity Code Dropdown -->
        <label for="activity_code">Select Activity Code (Required)</label>
        <select id="activity_code" name="activity_code" required>
            <option value="" disabled selected>--- Choose an Activity Code ---</option>
            {% for code in activity_codes %}
                <option value="{{ code }}">{{ code }}</option>
            {% endfor %}
        </select>
        
        <!-- Other Form Fields (Example placeholders) -->
        
        <label for="client_category">Client Category</label>
        <select id="client_category" name="client_category" required>
            <option value"" disabled selected>--- Select Client Category ---</option>
            <option value="BFI_Partner">BFI partenered project</option>
            <option value="BFI_Project">BFI project</option>
            <option value="Commercial">Commercial organisation</option>
            <option value="Curatorial">Curatorial</option>
            <option value="DONOR">Donor</option>
            <option value="Educational">Educational / Research</option>
            <option value="Film_Sales">Film Sales</option>
            <option value="Individual">Individual</option>
            <option value="Library">Library</option>
            <option value="Mediatheque">Mediatheque</option>
            <option value="Museum_Gallery">Museum / Gallery</option>
            <option value="Other_Archive">Archive - other</option>
            <option value="Overseas_Archive">Archive - overseas</option>
            <option value="RegArchive">Archive - regional</option>
            <option value="RightsHolder">Rightsholder</option>
            <option value="ScreenOnline">Screenonline</option>
            <option value="SouthBank">Southbank</option>
            <option value="Trading">Trading</option>
            <option value="UK_Cinema">UK cinema</option>
            <option value="University">University / Film school</option>
        </select>

        <label for="items_list">Items List / Saved Search number</label>
        <textarea id="items_list" name="items_list" rows="1" required></textarea>
        
        <label for="request_type">Request Type</label>
        <select id="request_type" name="request_type" required>
            <option value="" disabled selected>--- Select Request Type ---</option>
            <option value="AUDIOSUITETRANSFER">Audio suite transfer</option>
            <option value="BOOKING">Booking</option>
            <option value="DATAMIGRATION">Data migration</option>
            <option value="ENCODING">Encoding</option>
            <option value="EXAMINATION">Examination</option>
            <option value="FASTBOOKING">Fast booking</option>
            <option value="FILMDUPLICATIONEXTERNAL">Film duplication external</option>
            <option value="FILMPRINTINGEXTERNAL">Film printing external</option>
            <option value="FILMPRINTINGINTERNAL">Film printing internal</option>
            <option value="HDSCANNINGEXTERNAL">HD scanning external</option>
            <option value="HDSCANNINGINTERNAL">HD scanning internal</option>
            <option value="HIGHDEFEXTERNAL">High def transfer external</option>
            <option value="INFORMATION">Information</option>
            <option value="INHOUSEAUDIODIGITISATION">Inhouse audio digitisation</option>
            <option value="INSPECTION">Inspection</option>
            <option value="NEWTITLECREATION">New title creation</option>
            <option value="NUMBERING">Numbering</option>
            <option value="OFFAIRRECORDING">Off air recording</option>
            <option value="OTHER">Other</option>
            <option value="QUALITYCONTROL">Quality control</option>
            <option value="SDEXTERNAL">SD transfer external</option>
            <option value="SDSCANNINGEXTERNAL">SD scanning external</option>
            <option value="SDSCANNINGINTERNAL">SD scanning internal</option>
            <option value="TECHNICALSELECTION">Technical selection</option>
            <option value="TELECINEEXTERNAL">Telecine transfer external</option>
            <option value="TELECINEINTERNAL">Telecine transfer internal</option>
            <option value="TRANSCODING">Transcoding</option>
            <option value="VIDEOCOPY">Video copy</option>
            <option value="VIDEOCOPYNOTSUPPORTED">Video copy formats not supported within video lab</option>
            <option value="VIDEOTRANSFEREXTERNAL">Video transfer external</option>
            <option value="VIDEOUNITINHOUSE">Video unit inhouse</option>
        </select>
        
        <label for="request_outcome">Request Outcome</label>
        <select id="request_outcome" name="request_outcome" required>
            <option value="Acquisition">Acquisition</option>
            <option value="Archive show copy">Archive show copy</option>
            <option value="Cataloguing">Cataloguing</option>
            <option value="Client copy">Client copy</option>
            <option value="Digitisation">Digitisation</option>
            <option value="Encoding">Encoding</option>
            <option value="Preservation">Preservation</option>
            <option value="Re-mastering">Re-mastering</option>
            <option value="Research">Research</option>
            <option value="Restoration">Restoration</option>
            <option value="Screening">Screening</option>
        </select>
        
        <label for="description">Description</label>
        <textarea id="description" name="description" rows="5" required></textarea>
        
        <label for="delivery_date">Required Delivery Date</label>
        <input type="date" id="delivery_date" name="delivery_date" required>
        
        <label for="destination">Destination</label>
        <input type="text" id="destination" name="destination" required>
        
        <label for="instructions">Special Instructions (Optional)</label>
        <textarea id="instructions" name="instructions" rows="3"></textarea>
        
        <label for="contact_details">Alternative Contact Details (Optional)</label>
        <input type="text" id="contact_details" name="contact_details">

        <input type="submit" value="Submit Workflow Request">
    </form>
</body>
</html>
